<!DOCTYPE html>
<html lang="zh-Hant">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>台灣便利商店儀表板</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>🏪</text></svg>">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
  <link href="style.css" rel="stylesheet" type="text/css">
  <link href="animate.css" rel="stylesheet">
  <link href="animate.min.css" rel="stylesheet">


  <!-- MongoDB Charts Embedding SDK -->
  <script src="https://unpkg.com/@mongodb-js/charts-embed-dom"></script>

</head>

<body>
  <!-- Navbar -->
  <nav class="navbar" id="navbar">
    <div class="navbar-content">
      <div class="navbar-brand"><span>🏪</span>便利商店分析儀表板</div>

      <!-- ✅ 手機漢堡按鈕 -->
      <button class="nav-toggle" id="navToggle" aria-label="開關選單" aria-expanded="false">☰</button>

      <!-- ✅ 可折疊選單 -->
      <div class="nav-links" id="navLinks">
        <a class="nav-link" onclick="scrollToSection('stats')">統計數據</a>
        <a class="nav-link" onclick="scrollToSection('brands')">品牌分析</a>
        <a class="nav-link" onclick="scrollToSection('metrics')">關鍵指標</a>
        <a class="nav-link" onclick="scrollToSection('viz')">視覺化</a>
        <a class="nav-link" onclick="window.open('index.html','_blank','width=550,height=950')">手機版</a>
        <button class="theme-toggle" onclick="toggleTheme()" aria-label="切換深色模式">🌙</button>
      </div>
    </div>
  </nav>

  <!-- Scroll to top -->
  <button class="scroll-to-top animate__animated animate__rubberBand wow bs" id="scrollTopBtn" onclick="scrollToTop()" aria-label="返回頂部">
    <i class="fa fa-chevron-up"></i>
  </button>

  <!-- Header -->
  <header>
    <div class="container animate__animated animate__flash bs" >
      <div class="header-content">
        <h1>台灣便利商店生態系大數據分析</h1>
        <p class="subtitle">基於 MongoDB Atlas Charts 的視覺化資料探索</p>
        <span class="badge">喵喵資料派
          <img src="cat1.png" width="25" height="25" style="vertical-align:middle; margin:0 6px; border-radius:20%;">
        </span>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Section: Stats -->
    <section class="section" id="stats">
      <div class="section-header">
        <h2>📌 快速概覽</h2>
        <p>本區呈現資料規模與分析覆蓋範圍，作為整體儀表板的背景說明。</p>
      </div>

      <div class="stats-container">
        <div class="stat-card animate__animated animate__bounceIn wow bs"  onclick="animateCard(this)">
          <div class="stat-icon">🏪</div>
          <div class="stat-value">13,632</div>
          <div class="stat-label">便利商店總數</div>
        </div>
        <div class="stat-card animate__animated animate__bounceIn wow bs" data-wow-delay="0.4s" onclick="animateCard(this)">
          <div class="stat-icon">📍</div>
          <div class="stat-value">368</div>
          <div class="stat-label">涵蓋鄉鎮市區</div>
        </div>
        <div class="stat-card animate__animated animate__bounceIn wow bs" data-wow-delay="0.8s" onclick="animateCard(this)">
          <div class="stat-icon">📊</div>
          <div class="stat-value">50+</div>
          <div class="stat-label">分析維度</div>
        </div>
        <div class="stat-card animate__animated animate__bounceIn wow bs" data-wow-delay="1.2s" onclick="animateCard(this)">
          <div class="stat-icon">🔄</div>
          <div class="stat-value">即時</div>
          <div class="stat-label">Charts 呈現</div>
        </div>
      </div>
    </section>

    <!-- Section: Brands -->
    <section class="section animate__animated animate__fadeInLeft wow bs" data-wow-delay="1.4s"  id="brands" >
      <div class="section-header">
        <h2>🏪 五大品牌範圍</h2>
        <p>點選品牌卡片可展開「全台店數」摘要。</p>
      </div>

      <div class="card">
        <div class="brands-grid">
          <div class="brand-card seven" onclick="toggleBrandInfo(this)">
            <span class="brand-count ">7,013 間</span>
            <div class="brand-logo">
              <img src="https://www.7-11.com.tw/Company/esg/images/fbsharelogo.jpg" alt="7-ELEVEN">
            </div>
            <div class="brand-name">7-ELEVEN</div>
            <div class="brand-store-info">
              <div class="store-number">7,013</div>
              <div class="store-label">全台總店數</div>
            </div>
          </div>

          <div class="brand-card family" onclick="toggleBrandInfo(this)">
            <span class="brand-count">3,559 間</span>
            <div class="brand-logo">
              <img src="https://play-lh.googleusercontent.com/e3AKbefh3znufeBBSF1anaUZwV7oSkTjNCn67ZdSD18DwE95y7lZY9uHDloXH8fcmg" alt="FamilyMart">
            </div>
            <div class="brand-name">FamilyMart</div>
            <div class="brand-store-info">
              <div class="store-number">3,559</div>
              <div class="store-label">全台總店數</div>
            </div>
          </div>

          <div class="brand-card hilife" onclick="toggleBrandInfo(this)">
            <span class="brand-count">1,483 間</span>
            <div class="brand-logo">
              <img src="https://picdn.gomaji.com/uploads/stores/893/49893/255331/%E8%90%8A%E7%88%BE%E5%AF%8C%E6%96%B0%E7%89%88LOGO-RGB-(1).png" alt="Hi-Life">
            </div>
            <div class="brand-name">Hi-Life</div>
            <div class="brand-store-info">
              <div class="store-number">1,483</div>
              <div class="store-label">全台總店數</div>
            </div>
          </div>

          <div class="brand-card ok" onclick="toggleBrandInfo(this)">
            <span class="brand-count">286 間</span>
            <div class="brand-logo">
              <img src="https://play-lh.googleusercontent.com/wPmx6o5n7b2rdlmcn6PVhKkO0PkC7qSwIT2fJyyMrfg5VvCVzES-t84gmYOgP-4Avqo=w600-h300-pc0xffffff-pd" alt="OK Mart">
            </div>
            <div class="brand-name">OK Mart</div>
            <div class="brand-store-info">
              <div class="store-number">286</div>
              <div class="store-label">全台總店數</div>
            </div>
          </div>

          <div class="brand-card pxmart" onclick="toggleBrandInfo(this)">
            <span class="brand-count">1,291 間</span>
            <div class="brand-logo">
              <img src="https://curation.culture.tw/api/pic?id=User022cdfcd8-a336-483b-83dc-7a89288f6863&w=300" alt="PX Mart">
            </div>
            <div class="brand-name">PX Mart</div>
            <div class="brand-store-info">
              <div class="store-number">1,291</div>
              <div class="store-label">全台總店數</div>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- ✅ Section: Metrics (Multi-Card Carousel) -->
    <section class="section animate__animated animate__fadeIn wow bs"id="metrics">
      <div class="section-header">
        <h2>💡 關鍵指標說明</h2>
        <p>一排顯示多張卡片，可左右切換查看內容（手機支援拖曳）。</p>
      </div>

      <div class="card">
        <div class="kpi-carousel multi" id="kpiCarousel" aria-label="關鍵指標輪播（多卡）">
          <button class="kpi-arrow prev" type="button" aria-label="上一頁">‹</button>

          <div class="kpi-viewport">
            <div class="kpi-track">
              <div class="kpi-card">
                <div class="metric-item">
                  <div class="metric-name">📈 區域密度分析</div>
                  <div class="metric-description">
                    以「每萬人便利商店數」衡量服務可及性與都市化程度，適合跨縣市比較。
                  </div>
                </div>
              </div>

              <div class="kpi-card">
                <div class="metric-item">
                  <div class="metric-name">🏢 品牌市占率</div>
                  <div class="metric-description">
                    統計五大品牌門市數與占比，呈現台灣便利商店市場競爭結構。
                  </div>
                </div>
              </div>

              <div class="kpi-card">
                <div class="metric-item">
                  <div class="metric-name">🗺️ 地理分布熱區</div>
                  <div class="metric-description">
                    以縣市/行政區層級的熱點分析，找出飽和區與可能缺口。
                  </div>
                </div>
              </div>

              <div class="kpi-card">
                <div class="metric-item">
                  <div class="metric-name">👥 人口與門市關係</div>
                  <div class="metric-description">
                    結合人口資料，觀察「人口 vs 門市數」是否呈現比例或集中現象。
                  </div>
                </div>
              </div>

              <div class="kpi-card">
                <div class="metric-item">
                  <div class="metric-name">🏙️ 城鄉差異與集中度</div>
                  <div class="metric-description">
                    比較都會區與非都會區的門市分布差異，觀察是否呈現「核心城市高度集中」或「均衡擴散」的型態，
                    以判斷便利商店展店策略與服務覆蓋是否均衡。
                  </div>
                </div>
              </div>

              <div class="kpi-card">
                <div class="metric-item">
                  <div class="metric-name">📌 行政區飽和度排行</div>
                  <div class="metric-description">
                    以行政區層級計算門市數（或每萬人門市數），找出「飽和區／競爭激烈區」與「可能缺口區」，
                    可延伸用於選址分析、市場競爭研究或展店決策參考。
                  </div>
                </div>
              </div>
            </div>
          </div>

          <button class="kpi-arrow next" type="button" aria-label="下一頁">›</button>
          <div class="kpi-dots" id="kpiDots" aria-label="輪播指示點"></div>
        </div>
      </div>
    </section>

    <!-- Section: Visualization (Charts) -->
    <section class="section animate__animated animate__backInRight wow bs"  id="viz">
      <div class="section-header">
        <h2>📊 Atlas Charts 視覺化儀表板</h2>
        <p>此區為 MongoDB Atlas Charts 嵌入結果（無篩選功能版本），用於展示聚合分析與圖表。</p>
      </div>

      <div class="card dashboard-shell">
        <div id="dashboardMount"></div>

        <div class="loading-overlay" id="loadingOverlay">
          <div class="spinner"></div>
          <span>載入儀表板中...</span>
        </div>
      </div>
    </section>
  </main>

  <!-- ✅ Chatbot Widget -->
  <div class="bot-launcher animate__animated animate__rubberBand wow bs" id="botLauncher" aria-label="開啟客服">
    💬
    <span class="bot-badge" id="botBadge">!</span>
  </div>

  <div class="bot-panel" id="botPanel" role="dialog" aria-label="客服機器人">
    <div class="bot-header">
      <div class="bot-title">
        <div class="bot-avatar animate__animated animate__animate__swing wow bs" >
          <img src="cat1.png" width="25" height="25" style="padding: 5px;"  >
        </div>
        <div>
          <div class="bot-name">喵喵小幫手</div>
          <div class="bot-sub">回答儀表板與資料問題</div>
        </div>
      </div>
      <button class="bot-close" id="botClose" aria-label="關閉">✕</button>
    </div>

    <div class="bot-quick" id="botQuick">
      <button class="bot-chip">這個網站在做什麼？</button>
      <button class="bot-chip">為什麼不直接連mongodb前端</button>
      <button class="bot-chip">資料來源是什麼？</button>
      <button class="bot-chip">status=1 是什麼意思？</button>
    </div>

    <div class="bot-messages" id="botMessages"></div>

    <form class="bot-input" id="botForm">
      <input id="botText" type="text" placeholder="輸入你的問題…（例如：品牌市占怎麼算？）" autocomplete="off" />
      <button type="submit">送出</button>
    </form>
  </div>

  <footer>
    <div>
      <p>資料來源：商工行政資料平台｜視覺化：MongoDB Atlas Charts｜本網站供期末專題展示使用</p>
      <div class="tech-stack">
        <span class="tech-item">MongoDB Atlas</span>
        <span class="tech-item">Atlas Charts</span>
        <span class="tech-item">Claude</span>
        <span class="tech-item">JavaScript</span>
        <span class="tech-item">RWD</span>
        <span class="tech-item">WOW</span>
        <span class="tech-item">Animate</span>
      </div>
      <p class="team">&copy; 2025/12/25 製作者：資管二乙 喵喵資料派
        <img src="cat1.png" width="25" height="25" style="vertical-align:middle; margin:0 6px">
      </p>
    </div>
  </footer>



  <script src="html.js"></script> 
  <script src="wow.min.js"></script> 
  <script> 
    new WOW().init();
    </script> 
</body>
</html>


